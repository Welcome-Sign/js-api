/analytics/properties/{property_id}:
  parameters:
    - $ref: '../parameters/common.yaml#/PropertyId'

  get:
    tags:
      - Analytics
    summary: Get property analytics
    parameters:
      - name: start_date
        in: query
        schema:
          type: string
          format: date
      - name: end_date
        in: query
        schema:
          type: string
          format: date
    responses:
      '200':
        description: Property analytics
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                data:
                  $ref: '../schemas/Analytics.yaml'

/analytics/devices/{device_id}:
  parameters:
    - $ref: '../parameters/common.yaml#/DeviceId'

  get:
    tags:
      - Analytics
    summary: Get device analytics
    parameters:
      - name: start_date
        in: query
        schema:
          type: string
          format: date
      - name: end_date
        in: query
        schema:
          type: string
          format: date
    responses:
      '200':
        description: Device analytics
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                data:
                  $ref: '../schemas/Analytics.yaml'

/analytics/events:
  post:
    tags:
      - Analytics
    summary: Track custom event
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - event_type
            properties:
              event_type:
                type: string
              device_id:
                type: string
              properties:
                type: object
    responses:
      '201':
        description: Event tracked
